{"version":3,"file":"main.js","mappings":"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","sources":["./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/character/character.component.ts","./src/app/character/character.component.html","./src/app/character/character.module.ts","./src/app/main/main.component.ts","./src/app/main/main.component.html","./src/app/main/main.module.ts","./src/app/main/scene-selector.component.ts","./src/app/main/scene-selector.component.html","./src/app/shared/data-service.ts","./src/app/shared/shared.module.ts","./src/environments/environment.ts","./src/main.ts"],"sourcesContent":["import { NgModule } from \"@angular/core\";\nimport { RouterModule, Routes } from \"@angular/router\";\nimport { MainComponent } from \"./main/main.component\";\nimport { CharacterComponent } from \"./character/character.component\";\n\nconst routes: Routes = [\n  { path: '', redirectTo: 'home', pathMatch: 'full' },\n  { path: 'home', component: MainComponent },\n  { path: 'chars', component: CharacterComponent }\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n\n  constructor() { }\n\n}\n","<header>\n  <section>\n    <div class=\"example-button-row\">\n      <a mat-button routerLink=\"./home\">Scene</a>\n      <a mat-button routerLink=\"./chars\">Characters</a>\n    </div>\n  </section>\n</header>\n<main>\n  <router-outlet></router-outlet>\n</main>\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\nimport { AppComponent } from './app.component';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { HttpClientModule } from '@angular/common/http';\nimport { TranslocoRootModule } from './transloco-root.module';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { MatSliderModule } from '@angular/material/slider';\nimport { MatSelectModule } from '@angular/material/select'; \n\nimport { AppRoutingModule } from './app-routing.module';\nimport { MainModule } from './main/main.module';\nimport { CharacterModule } from './character/character.module';\n\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    AppRoutingModule,\n    MainModule,\n    CharacterModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { AfterViewInit, Component, ElementRef, OnInit, ViewChild } from '@angular/core';\nimport { DataService } from '../shared/data-service';\nimport * as Highcharts from 'highcharts';\nimport More from 'highcharts/highcharts-more';\nimport SankeyModule from 'highcharts/modules/sankey';\nimport OrganizationModule from 'highcharts/modules/organization';\nimport ArcModule from 'highcharts/modules/arc-diagram';\nimport HeatmapModule from 'highcharts/modules/heatmap';\nimport TreemapModule from 'highcharts/modules/treemap';\nimport ExportingModule from 'highcharts/modules/exporting';\nimport ExportingDataModule from 'highcharts/modules/export-data';\nimport AccessibilityDataModule from 'highcharts/modules/accessibility';\n\nMore(Highcharts);\nSankeyModule(Highcharts);\nOrganizationModule(Highcharts);\nArcModule(Highcharts);\nHeatmapModule(Highcharts);\nTreemapModule(Highcharts);\nExportingModule(Highcharts);\nExportingDataModule(Highcharts);\nAccessibilityDataModule(Highcharts);\n\n@Component({\n  selector: 'app-character',\n  templateUrl: './character.component.html',\n  styleUrls: ['./character.component.css']\n})\nexport class CharacterComponent implements OnInit, AfterViewInit {\n\n  Highcharts: typeof Highcharts = Highcharts;\n\n  @ViewChild('bubble') bubbleRef: any;\n  @ViewChild('chart') chartRef: any;\n  @ViewChild('locations') locationsRef: any;\n  @ViewChild('scenes') scenesRef: any;\n  @ViewChild('family') familyRef: any;\n\n  // Menu\n  showFamilyNames: boolean = true;\n\n  chageFamilyType(checked: boolean) {\n    this.showFamilyNames = checked;\n    this.setAll(true);\n    this.selectDefaultCharacter();\n    this.setCharSelectionChart();\n  }\n\n  task = {\n    name: 'Select All Seasons',\n    checked: true,\n    color: 'primary',\n    subtasks: [\n      {name: '1', checked: true, color: 'primary'},\n      {name: '2', checked: true, color: 'primary'},\n      {name: '3', checked: true, color: 'primary'},\n      {name: '4', checked: true, color: 'primary'},\n      {name: '5', checked: true, color: 'primary'},\n      {name: '6', checked: true, color: 'primary'},\n      {name: '7', checked: true, color: 'primary'},\n      {name: '8', checked: true, color: 'primary'}\n    ],\n  };\n\n  setAll(checked: boolean) {\n    this.task.checked = checked;\n    if (this.task.subtasks == null) {\n      return;\n    }\n    this.task.subtasks.forEach(t => (t.checked = checked));\n  }\n\n  // \n\n  globalData;\n\n  houseNames;\n  houseSeries = [];\n  nameSeries = [];\n\n  noHouseNames = [];\n  noHouseSeries = [];\n  noNameSeries = [];\n\n  houseColors = {\n    Targaryen: \"#FFDEAD\",\n    Greyjoy: \"#778899\",\n    Lannister: \"#DC143C\",\n    Stark: \"#F0F8FF\",\n    Baratheon: \"#E6CDFF\",\n    Frey: \"#CDE6FF\",\n    Tully: \"#87CEFA\",\n    Martell: \"#FFEBAF\",\n    Mormont: \"FFFAFA\",\n    Tyrell: \"#CDFFCD\",\n    Arryn: \"#00BFFF\",\n    Umber: \"#F8F8FF\",\n    Bolton: \"#778899\",\n    Tarly: \"#7FFFD4\",\n    \"No Family\": \"#5F9EA0\"\n  };\n\n  charData;\n  locations;\n  scenesData;\n\n  familyData = [];\n  familyLevels = [];\n  familyNodes = [];\n  \n  constructor(private dataService: DataService) {\n    this.dataService.readFiles();\n  }\n\n  ngOnInit(): void {\n    this.dataService.globalData.subscribe((data) => {\n      this.globalData = data;\n      this.init();\n    });\n  }\n\n  ngAfterViewInit(): void {\n  }\n\n  init() {\n    this.setHouseNames();\n    this.setCharSelectionChart();\n  }\n\n  setHouseNames() {\n    const houseNamesSet = new Set();\n    this.globalData.characters.forEach(character => {\n      if (typeof character.houseName === 'string') {\n        houseNamesSet.add(character.houseName);\n      }\n      else if (Array.isArray(character.houseName)) {\n        character.houseName.forEach(name => {\n          houseNamesSet.add(name);\n        });\n      }\n    });\n    const houses = Array.from(houseNamesSet);\n    this.houseNames = [];\n    houses.forEach(h => {\n      this.houseNames.push({\n        name: h,\n        categories: []\n      });\n    });\n    this.noHouseNames.push({\n      name: 'No Family',\n      categories: []\n    });\n    this.presetHouseDonutData();\n  }\n\n  presetHouseDonutData() {\n    const chars = this.globalData.characters;\n    for (let i=0; i<chars.length; i++) {\n      const char = chars[i];\n      if (!char['houseName']) {\n        this.noHouseNames[0].categories.push(char['characterName']);\n      } else if (typeof char['houseName'] === 'string') {\n        this.addCharHouse(char['characterName'], char['houseName']);\n      } else if (Array.isArray(char['houseName'])) {\n        char['houseName'].forEach(house => {\n          this.addCharHouse(char['characterName'], house);\n        });\n      }\n    }\n    this.setDonutData();\n  }\n\n  setDonutData() {\n    this.houseSeries = [];\n    this.nameSeries = [];\n    this.houseNames.forEach(hn => {\n      this.houseSeries.push({\n        name: hn['name'],\n        y: hn['categories'].length,\n        color: this.houseColors[hn['name']]\n      });\n      hn['categories'].forEach(name => {\n        this.nameSeries.push({\n          name: name,\n          y: 1,\n          color: this.houseColors[hn['name']]\n        });\n      });\n    });\n\n    this.noHouseSeries.push({\n      name: this.noHouseNames[0]['name'],\n      y: this.noHouseNames[0]['categories'].length,\n      color: this.houseColors[this.noHouseNames[0]['name']]\n    });\n    this.noHouseNames[0]['categories'].forEach(name => {\n      this.noNameSeries.push({\n        name: name,\n        y: 1,\n        color: this.houseColors[this.noHouseNames[0]['name']]\n      });\n    });\n\n    this.selectDefaultCharacter();\n  }\n\n  selectDefaultCharacter() {\n    if (this.showFamilyNames) {\n      this.selectCharacter(this.nameSeries[2]);\n    } else {\n      this.selectCharacter(this.noNameSeries[20]);\n    }\n  }\n\n  addCharHouse(name, house) {\n    const houseRef = this.houseNames.find(h => h.name==house);\n    if (houseRef) {\n      houseRef.categories.push(name);\n    }\n  }\n\n  setCharSelectionChart() {\n    let nameSeries;\n    let houseSeries;\n    if (this.showFamilyNames) {\n      nameSeries = this.nameSeries;\n      houseSeries = this.houseSeries;\n    } else {\n      nameSeries = this.noNameSeries;\n      houseSeries = this.noHouseSeries;\n    }\n\n    const options = {\n      chart:  {\n        renderTo: 'container',\n        type: 'pie',\n        backgroundColor: '#DCDCDC'\n      },\n      title: {\n        text: 'Main Houses'\n      },\n      tooltip: {\n        formatter: function() {\n            return '<b>'+ this.point.name +'</b>';\n        }\n      },\n      plotOptions: {\n        pie: {\n          shadow: true,\n        },\n        series: {\n          cursor: 'pointer',\n          events: {\n            click: function(event) {\n              this.onCharacterClick(event);\n            }.bind(this)\n          }\n        }\n      },\n      series: [{\n        innerSize: 150,\n        size: 300,\n        data: nameSeries\n      }, {\n        innerSize: 100,\n        size: 150,\n        data: houseSeries\n      }]\n    };\n\n    const chartElement = this.chartRef.nativeElement;\n    // @ts-ignore\n    Highcharts.chart(chartElement, options);\n  }\n\n  onCharacterClick(event) {\n    let charGraphData;\n    if (this.showFamilyNames) {\n      charGraphData = this.nameSeries[event['point']['index']];\n    } else {\n      charGraphData = this.noNameSeries[event['point']['index']];\n    }\n    this.selectCharacter(charGraphData);\n  }\n\n  selectCharacter(charGraphData) {\n    this.charData = this.globalData.characters.find(c => c['characterName']==charGraphData['name']);\n    const eps = this.globalData.episodes;\n\n    console.debug('CHARACTER:', this.charData);\n\n    let lastLocation;\n    this.locations = [];\n    this.scenesData = [];\n    const timeElapsed = [];\n    let minTime = 3600;\n    let maxTime = 0;\n    for (let i=0; i<eps.length; i++) {\n      for (let j=0; j<eps[i]['scenes'].length; j++) {\n\n        const seasonSelected = this.task.subtasks.find(st => st.name==(eps[i]['seasonNum']+''));\n        if (!seasonSelected.checked) {\n          continue;\n        }\n\n        const t = eps[i]['scenes'][j]['characters'].find(char => char['name']==this.charData['characterName']);\n        if (t) {\n          const location = eps[i]['scenes'][j]['location'];\n          if (!lastLocation) {\n            lastLocation = location;\n          } else {\n            if (lastLocation != location) {\n              this.locations.push([lastLocation, location, 1]);\n              lastLocation = location;\n            }\n          }\n          const sdata = {\n            name: 'S'+eps[i]['seasonNum']+'E'+eps[i]['episodeNum']+'S'+(j+1),\n            value: eps[i]['seasonNum'],\n            colorValue: eps[i]['seasonNum']\n          };\n\n          this.scenesData.push(sdata);\n\n          const elapsed = this.calcElapsedSeconds(eps[i]['scenes'][j]['sceneStart'], eps[i]['scenes'][j]['sceneEnd']);\n          timeElapsed.push(elapsed);\n          if (elapsed < minTime) {\n            minTime = elapsed;\n          }\n          if (elapsed > maxTime) {\n            maxTime = elapsed;\n          }\n        }\n      }\n    }\n    if (this.locations.length == 0) {\n      this.locations.push([lastLocation, lastLocation, 1]);\n    }\n    for (let i=0; i<this.scenesData.length; i++) {\n      this.scenesData[i]['value'] = timeElapsed[i]/minTime\n    }\n    console.debug('LOCATIONS', this.locations);\n    console.debug('SCENES', this.scenesData);\n    // console.debug('TIME ELAPSED', timeElapsed, minTime);\n    this.setLocationsChart();\n    this.setScenesChart();\n    this.setBubbleChart();\n\n    this.familyData = [];\n    this.familyNodes = [];\n    this.addCharAndParents(this.charData, '#DC143C');\n    if (this.charData['siblings']) {\n      this.charData['siblings'].forEach(sib => {\n        const s = this.globalData.characters.find(s => s['characterName']==sib);\n        if (s) {\n          this.addCharAndParents(s);\n        }\n      });\n    }\n    this.setFamilyTreeChart();\n  }\n\n  addCharAndParents(charData, color=null) {\n    const node = {\n      id: charData['characterName'],\n      title: charData.houseName ? typeof charData.houseName == 'string' ? charData.houseName : charData.houseName.join(', ') : '---',\n      name: charData['characterName'],\n      image: charData['characterImageThumb']\n    }\n    if (color) {\n      node['color'] = color;\n    }\n    this.familyNodes.push(node);\n    if (charData['parents']) {\n      charData['parents'].forEach(parent => {\n        this.familyData.push(\n          [parent, charData['characterName']]\n        );\n        const p = this.globalData.characters.find(c => c['characterName']==parent);\n        this.familyNodes.push({\n          id: parent,\n          title: p.houseName ? typeof p.houseName == 'string' ? p.houseName : p.houseName.join(', ') : '---',\n          name: parent,\n          image: p ? p['characterImageThumb'] : 'assets/placeholder.jpg'\n        });\n      });      \n    }\n    if (charData['parentOf']) {\n      charData['parentOf'].forEach(son_daughter => {\n        this.familyData.push(\n          [charData['characterName'], son_daughter]\n        );\n        const sd = this.globalData.characters.find(c => c['characterName']==son_daughter);\n        this.familyNodes.push({\n          id: son_daughter,\n          title: sd.houseName ? typeof sd.houseName == 'string' ? sd.houseName : sd.houseName.join(', ') : '---',\n          name: son_daughter,\n          image: sd ? sd['characterImageThumb'] : 'assets/placeholder.jpg'\n        });\n      });     \n    }\n  }\n\n  calcElapsedSeconds(tStart, tEnd) {\n    const [hours, minutes, seconds] = tStart.split(':').map(Number);\n    const tS = hours * 3600 + minutes * 60 + seconds;\n    const [hours1, minutes1, seconds1] = tEnd.split(':').map(Number);\n    const tE = hours1 * 3600 + minutes1 * 60 + seconds1;\n    return tE - tS;\n  }\n\n  setLocationsChart() {\n    const options = {\n      chart: {\n        inverted: false,\n        height: 400,\n        backgroundColor: '#DCDCDC'\n      },\n      colors: ['#293462', '#a64942', '#fe5f55', '#fff1c1', '#5bd1d7', '#ff502f',\n               '#004d61', '#ff8a5c', '#fff591', '#f5587b', '#fad3cf', '#a696c8',\n               '#5BE7C4', '#266A2E', '#593E1A'],\n      title: {\n          text: 'Character Journey'\n      },\n      accessibility: {\n        description: 'Character journey.',\n        point: {\n            valueDescriptionFormat: 'Connection from {point.from} to {point.to}.'\n        }\n      },\n      series: [{\n          keys: ['from', 'to', 'weight'],\n          type: 'arcdiagram',\n          name: 'Character Journey',\n          linkWeight: 1,\n          centeredLinks: true,\n          dataLabels: {\n              rotation: 0,\n              y: 30,\n              verticalAlign: 'top',\n              color: 'black',\n              padding: 0\n          },\n          offset: '100%',\n          data: this.locations\n      }]\n    }\n    const locChartElement = this.locationsRef.nativeElement;\n    // @ts-ignore\n    Highcharts.chart(locChartElement, options);\n  }\n\n  setScenesChart() {\n\n    const options = {\n      chart: {\n        height: 380,\n        backgroundColor: '#DCDCDC'\n      },\n      colorAxis: {\n          minColor: '#FFFFFF',\n          maxColor: Highcharts.getOptions().colors[0]\n      },\n      series: [{\n          type: 'treemap',\n          layoutAlgorithm: 'squarified',\n          clip: false,\n          data: this.scenesData\n      }],\n      title: {\n          text: 'Scenes With Charater'\n      }\n    };\n    \n    // @ts-ignore\n    Highcharts.chart(this.scenesRef.nativeElement, options);\n  }\n\n  setFamilyTreeChart() {\n    const options = {\n      chart: {\n        height: 400,\n        inverted: true,\n        backgroundColor: '#DCDCDC'\n      },\n      title: {\n        text: 'Family Tree'\n      },\n      accessibility: {\n        point: {\n          descriptionFormat: '{add index 1}. {toNode.name}' +\n            '{#if (ne toNode.name toNode.id)}, {toNode.id}{/if}, ' +\n            'reports to {fromNode.id}'\n        }\n      },\n      series: [{\n        type: 'organization',\n        name: 'Family Tree',\n        keys: ['from', 'to'],\n        data: this.familyData,\n        levels: this.familyLevels,\n        nodes: this.familyNodes,\n        colorByPoint: false,\n        color: '#778899',\n        dataLabels: {\n            color: 'white'\n        },\n        borderColor: 'white',\n        nodeWidth: 'auto'\n      }],\n      tooltip: {\n          outside: true\n      },\n      exporting: {\n          allowHTML: true,\n          sourceWidth: 800,\n          sourceHeight: 600\n      }\n    }\n    // @ts-ignore\n    Highcharts.chart(this.familyRef.nativeElement, options);\n  }\n\n  setBubbleChart() {\n\n    this.setBubbleData(this.charData);\n\n    const options = {\n      chart: {\n          type: 'packedbubble',\n          height: '100%',\n          backgroundColor: '#DCDCDC'\n      },\n      title: {\n          text: 'Other Relations',\n          align: 'left'\n      },\n      tooltip: {\n          useHTML: true,\n          pointFormat: '<b>{point.name}:</b> {point.value}'\n      },\n      plotOptions: {\n          packedbubble: {\n              minSize: '20%',\n              maxSize: '100%',\n              zMin: 0,\n              zMax: 1000,\n              layoutAlgorithm: {\n                  gravitationalConstant: 0.05,\n                  splitSeries: true,\n                  seriesInteraction: false,\n                  dragBetweenSeries: true,\n                  parentNodeLimit: true\n              },\n              dataLabels: {\n                  enabled: true,\n                  format: '{point.name}',\n                  filter: {\n                      property: 'y',\n                      operator: '>',\n                      value: 250\n                  },\n                  style: {\n                      color: 'black',\n                      textOutline: 'none',\n                      fontWeight: 'normal'\n                  }\n              }\n          }\n      },\n      series: this.bubbleSeries\n    }\n  \n    // @ts-ignore\n    Highcharts.chart(this.bubbleRef.nativeElement, options);\n  }\n\n  bubbleSeries = [];\n\n  setBubbleData(charData) {\n    this.bubbleSeries = [];\n    if (charData['killed']) {\n      this.addBubble('Killed', charData['killed']);\n    }\n    if (charData['killedBy']) {\n      this.addBubble('Killed By', charData['killedBy']);\n    }\n    if (charData['servedBy']) {\n      this.addBubble('Served By', charData['servedBy']);\n    }\n    if (charData['serves']) {\n      this.addBubble('Serves', charData['serves']);\n    }\n    if (charData['guardianOf']) {\n      this.addBubble('Guardian Of', charData['guardianOf']);\n    }\n    if (charData['guardianOf']) {\n      this.addBubble('Guardian Of', charData['guardianOf']);\n    }\n    if (charData['guardedBy']) {\n      this.addBubble('Guarded By', charData['guardedBy']);\n    }\n    if (charData['marriedEngaged']) {\n      this.addBubble('Married/Engaged', charData['marriedEngaged']);\n    }\n  }\n\n  addBubble(title, itens) {\n    const b = {\n      name: title,\n      data: []\n    }\n    itens.forEach(d => {\n      const bItem = {\n        name: d,\n        value: 1\n      };\n      b['data'].push(bItem);\n      this.scenesData.forEach(sd => {\n        const numeros = sd['name'].match(/\\d+/g);\n        const ep = this.globalData.episodes.find(e =>\n          e['seasonNum']==numeros[0] && e['episodeNum']==numeros[1]);\n        const found = ep['scenes'][parseInt(numeros[2],10)-1]['characters'].find(c => c['name']==d);\n        if (found) {\n          bItem['value'] += 1;\n        }\n      });\n    });\n    this.bubbleSeries.push(b);\n  }\n\n\n}\n","<div class=\"grid grid-pad\">\n  <div class=\"col-1-12\">\n    <div class=\"content\">\n      <section class=\"example-section\">\n        <mat-checkbox class=\"example-margin\" [checked]=\"showFamilyNames\"\n          (change)=\"chageFamilyType($event.checked)\">Main Houses</mat-checkbox>\n      </section>\n      <section class=\"example-section\">\n        <span class=\"example-list-section\">\n          <mat-checkbox class=\"example-margin\"\n                        [checked]=\"task.checked\"\n                        (change)=\"setAll($event.checked)\">\n            {{task.name}}\n          </mat-checkbox>\n        </span>\n        <span class=\"example-list-section\">\n          <ul>\n            @for (subtask of task.subtasks; track subtask) {\n              <li>\n                <mat-checkbox [(ngModel)]=\"subtask.checked\"\n                              [color]=\"subtask.color\">\n                  {{subtask.name}}\n                </mat-checkbox>\n              </li>\n            }\n          </ul>\n        </span>\n      </section>\n    </div>\n  </div>\n  <div class=\"col-4-12\">\n    <div class=\"content\">\n      <div #chart style=\"width:100%; height:400px;\"></div>\n    </div>\n  </div>\n  <div class=\"col-1-12\">\n    <div class=\"content\">\n      <div *ngIf=\"charData\">\n        <mat-card class=\"example-card\" style=\"width: 140px; height: 180px;\">\n          <mat-card-header>\n            <mat-card-title>{{ charData.characterName }}</mat-card-title>\n            <mat-card-subtitle>{{ charData.houseName }}</mat-card-subtitle>\n          </mat-card-header>\n          <div class=\"\">\n            <img style=\"width: 140px;\" *ngIf=\"charData.characterImageFull\" [src]=\"charData.characterImageFull\" alt=\"{{ charData.characterName }}\" >\n            <img style=\"width: 140px;\" *ngIf=\"!charData.characterImageFull\" mat-card-image src=\"assets/placeholder.jpg\" alt=\"{{ charData.characterName }}\" >\n          </div>\n        </mat-card>\n      </div>\n    </div>\n  </div>\n  <div class=\"col-4-12\">\n    <div class=\"content\">\n      <div #family style=\"width:100%; height:400px;\"></div>\n    </div>\n  </div>\n  <div class=\"col-2-12\">\n    <div class=\"content\">\n      <div #bubble style=\"width:100%; height:400px;\"></div>\n    </div>\n  </div>\n</div>\n<hr>\n<div class=\"grid grid-pad\">\n  <div class=\"col-4-12\">\n    <div class=\"content\">\n      <div #scenes style=\"width:100%; height:400px;\"></div>\n    </div>\n  </div>\n  <div class=\"col-8-12\">\n    <div class=\"content\">\n      <div #locations style=\"width:100%; height:400px;\"></div>\n    </div>\n  </div>\n</div>\n","import { NgModule } from '@angular/core';\nimport { CharacterComponent } from './character.component';\nimport { SharedModule } from '../shared/shared.module';\n\n\n@NgModule({\n  declarations: [\n    CharacterComponent\n  ],\n  imports: [\n    SharedModule\n  ],\n  exports: [\n  ],\n  providers: []\n})\nexport class CharacterModule { }\n","import { HttpClient } from '@angular/common/http';\nimport { AfterViewInit, Component, ElementRef, OnInit, ViewChild } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { MatSelect } from '@angular/material/select';\nimport * as Highcharts from 'highcharts';\n\n@Component({\n  selector: 'app-main',\n  templateUrl: './main.component.html',\n  styleUrls: ['./main.component.css', 'image-viewer.css']\n})\nexport class MainComponent implements OnInit, AfterViewInit {\n\n  @ViewChild('selectSeason') selectSeason: MatSelect;\n  @ViewChild('selectEpisode') selectEpisode: MatSelect;\n\n  temporada = new FormControl('');\n  temporadaList: number[] = [];\n  episodio = new FormControl('');\n  episodesListList: any[] = [];\n  episodesList: string[] = [];\n\n  selectedSeason = 1;\n  selectedEpisode = 1;\n  selectedEpisodeData;\n  currentDescription = '';\n\n  episodes;\n  characters;\n\n  totalSeconds = 0;\n  timeString = '0:00:00';\n  episodeStart = 0;\n  episodeLength = 5400;\n  sceneTimeSecs = []\n  sceneSegments = [];\n\n  charBio = [];\n  clickSelected = 1;\n  sceneData = {\n    number: 1,\n    characters: '',\n    location: '',\n    sublocation: '',\n    start: '',\n    end: ''\n  }\n\n  debugText = '';\n\n  locationsData = [];\n\n  constructor(private http: HttpClient) { }\n\n  ngOnInit(): void {\n    this.readFiles();\n  }\n\n  ngAfterViewInit(): void {\n    this.setupMap();\n  }\n\n  async readFiles() {\n    this.readEpisodes();\n  }\n\n  readEpisodes() {\n    this.http.get('assets/episodes.json').subscribe(data => {\n      this.episodes = data['episodes'];\n      console.debug(this.episodes);\n      this.readCharacters();\n    });\n  }\n\n  readCharacters() {\n    this.http.get('assets/characters.json').subscribe(data => {\n      this.characters = data['characters'];\n      console.debug(this.characters);\n      this.readLocations();\n    });\n  }\n\n  readLocations() {\n    this.http.get('assets/locations.csv', {responseType: 'text'}).subscribe(\n      data => {\n        const resultData = [];\n        const lines = data.split(\"\\n\") || [];\n        const params = lines[0].split(\",\");\n        if (lines.length>1) {\n          for (let i=1; i<lines.length; i++) {\n            const lineObj = {};\n            const values = lines[i].split(\",\");\n            for (let j=0; j<values.length; j++) {\n              lineObj[params[j]] = values[j]\n            }\n            resultData.push(lineObj);\n          }\n        }\n        console.debug('locations', resultData);\n        this.locationsData = resultData;\n        this.init();\n      },\n      error => {\n        console.debug(error);\n      }\n    );\n  }\n\n  init() {\n    let eps;\n    this.episodes.forEach(ep => {\n      if (!this.temporadaList.includes(ep.seasonNum)) {\n        this.temporadaList.push(ep.seasonNum);\n        eps = [ep.episodeNum + ': ' + ep.episodeTitle];\n        this.episodesListList.push(eps);\n      } else {\n        eps.push(ep.episodeNum + ': ' + ep.episodeTitle);\n      }\n    });\n    this.selectSeason.value = this.selectedSeason;\n    this.episodesList = this.episodesListList[this.selectedSeason-1];\n    this.selectEpisode.value = this.episodesList[0];\n    this.selectEpisodeData();\n  }\n\n  pad(value: number): string {\n    return value < 10 ? `0${value}` : `${value}`;\n  }\n\n  onSeasonChange(event) {\n    this.selectedSeason = event.value;\n    this.episodesList = this.episodesListList[this.selectedSeason-1];\n    this.selectEpisode.value = this.episodesList[0];\n    this.selectEpisodeData();\n  }\n\n  onEpisodeChange(event) {\n    this.selectedEpisode = this.episodesList.indexOf(event.value)+1;\n    this.selectEpisodeData();\n  }\n\n  selectEpisodeData() {\n    this.selectedEpisodeData = this.episodes.find(\n      episodio => episodio.seasonNum === this.selectedSeason &&\n      episodio.episodeNum === this.selectedEpisode);\n    this.currentDescription = this.selectedEpisodeData['episodeDescription'];\n\n    const scenes = this.selectedEpisodeData['scenes'];\n    this.totalSeconds = this.episodeStart = this.timeToSeconds(scenes[0]['sceneStart']);\n    this.episodeLength = this.timeToSeconds(scenes[scenes.length-1]['sceneEnd']);\n\n    this.calcSceneSegments();\n    this.setSceneData(0);\n    this.debugChoice(0);\n    this.clickSelected = 1;\n    this.findCharacters();\n    this.locateOnMap();\n  }\n\n  calcSceneSegments() {\n    const segs = [];\n    this.sceneTimeSecs = [];\n    let min = 10000;\n    this.selectedEpisodeData['scenes'].forEach(scene => {\n      const elapsed = this.timeToSeconds(scene['sceneStart']);\n      const sec = this.timeToSeconds(scene['sceneEnd'])-elapsed;\n      if (sec < min) {\n        min = sec;\n      }\n      this.sceneTimeSecs.push(elapsed);\n      segs.push(sec);\n    });\n    this.sceneSegments = [];\n    segs.forEach(seg => {\n      this.sceneSegments.push(Math.round(seg/min * 100) / 100);  \n    });\n  }\n\n  timeToSeconds(timeString) {\n    const [hours, minutes, seconds] = timeString.split(':').map(Number);\n    return hours * 3600 + minutes * 60 + seconds;\n  }\n\n  setSceneData(sceneIndex) {\n    this.sceneData.number = sceneIndex+1;\n    const scene = this.selectedEpisodeData['scenes'][sceneIndex];\n    this.sceneData.characters = scene['characters'].map(o => o.name).join(', ');\n    this.sceneData.location = scene['location'];\n    this.sceneData.sublocation = scene['subLocation'] || '';\n    this.sceneData.start = scene['sceneStart'];\n    this.sceneData.end = scene['sceneEnd'];\n  }\n\n  debugChoice(sceneIndex) {\n    const scene = this.selectedEpisodeData['scenes'][sceneIndex];\n    this.debugText  = 'Scene Number: ' + (sceneIndex+1)+'\\n';\n    this.debugText += 'Scene Start: '  + scene['sceneStart']+'\\n';\n    this.debugText += 'Scene End: '    + scene['sceneEnd']+'\\n';\n    this.debugText += 'Characters: '   + scene['characters'].map(o => o.name).join(', ')+'\\n';\n    this.debugText += 'Location: '     + scene['location']+'\\n';\n    this.debugText += 'Sublocation: '  + scene['subLocation']\n  }\n\n  onSceneHover(sceneIndex) {\n    this.debugChoice(sceneIndex);\n  }\n\n  onSceneSearch(sceneIndex) {\n    this.onSceneHover(sceneIndex);\n  }\n  \n  onSceneSearchChange(sceneIndex) {}\n\n  onSceneSearchEnd(sceneIndex) {\n    this.debugChoice(this.clickSelected-1);\n  }\n  \n  onSceneSelect(sceneIndex) {\n    this.onSceneClick(sceneIndex); \n  }\n    \n  onSceneHoverOut(sceneIndex) {}\n\n  onSceneClick(sceneIndex) {\n    this.setSceneData(sceneIndex);\n    this.clickSelected = sceneIndex+1;\n    const scene = this.selectedEpisodeData['scenes'][sceneIndex];\n    this.totalSeconds = this.timeToSeconds(scene['sceneStart']);\n    this.findCharacters();\n    this.locateOnMap();\n    this.debugChoice(sceneIndex);\n  }\n\n  allCharBio = [];\n  currentCharIdx = 0;\n  charsPerPage = 6;\n\n  findCharacters() {\n    this.currentCharIdx = 0;\n    const sceneCharData = [];\n    this.charBio = [];\n    this.allCharBio = [];\n    this.sceneData.characters.split(', ').forEach(char => {\n      const charData = this.characters.find(\n        charRef => charRef['characterName'] === char);\n      if (charData) {\n        sceneCharData.push(charData);\n        const bio = {\n          name: char,\n          img: charData['characterImageFull'],\n          house: charData.houseName ? typeof charData.houseName == 'string' ? charData.houseName : charData.houseName.join(', ') : '---'\n        }\n        this.allCharBio.push(bio);\n        if (this.currentCharIdx < this.charsPerPage) {\n          this.charBio.push(bio);\n          this.currentCharIdx++;\n        }\n      } else {\n        console.debug('Characeter NOT FOUND:', char);\n      }\n    });\n  }\n\n  previousChars($event) {\n    if (this.currentCharIdx<this.charsPerPage) {\n      return;\n    }\n    this.currentCharIdx -= 2*this.charsPerPage;\n    if (this.currentCharIdx < 0) {\n      this.currentCharIdx = 0;\n    }\n    this.placeCharactersForView();\n  }\n\n  nextChars($event) {\n    if (this.allCharBio.length<=this.currentCharIdx) {\n      return;\n    }\n    this.placeCharactersForView();\n  }\n\n  placeCharactersForView() {\n    this.charBio = []\n    let i = 0;\n    while (this.currentCharIdx < this.allCharBio.length && i<this.charsPerPage) {\n      this.charBio.push(this.allCharBio[this.currentCharIdx]);\n      this.currentCharIdx++;\n      i++;\n    }\n  }\n\n  // Map\n\n  @ViewChild('wrapper') wrapper: ElementRef;\n  @ViewChild('image') image: ElementRef;\n  @ViewChild('zoom') zoom: ElementRef;\n\n  map;\n  mapZoomed;\n  originalWidth;\n  originalHeight;\n  zoomDim = 480\n  zoomWH = this.zoomDim+'px';\n  zoomSize = '600%';\n  xPercent = 0;\n  yPercent = 0;\n  circleRadius = 100;\n  circleTop;\n  circleLeft;\n\n  squareStyle: { [key: string]: string } = {}; \n  circleStyle: { [key: string]: string } = {};\n\n  setupMap() {\n    this.map = this.image.nativeElement as HTMLImageElement;\n    this.mapZoomed = this.zoom.nativeElement as HTMLImageElement;\n    this.originalWidth = this.map.naturalWidth;\n    this.originalHeight = this.map.naturalHeight;\n    const z = this.zoom.nativeElement as HTMLImageElement;\n\n    const zoomWidth = this.mapZoomed.offsetWidth;\n    const zoomHeight = this.mapZoomed.offsetHeight;\n\n    this.circleTop = (zoomHeight - this.circleRadius) / 2;\n    this.circleLeft = (zoomWidth - this.circleRadius) / 2;\n\n    this.circleStyle = {\n      width: this.circleRadius + 'px',\n      height: this.circleRadius + 'px',\n      borderRadius: '50%',\n      backgroundColor: 'rgba(255, 0, 0, 0.2)',\n      position: 'absolute',\n      top: this.circleTop + 'px',\n      left: this.circleLeft + 'px'\n    };\n  }\n\n  centerCircle() {\n    this.circleStyle['top'] = this.circleTop+'px';\n    this.circleStyle['left'] = this.circleLeft+'px';\n  }\n\n  moveCircle(moveTop, moveLeft) {\n    this.circleStyle['top'] = (this.circleTop + this.circleRadius*moveTop)+'px';\n    this.circleStyle['left'] = (this.circleLeft + this.circleRadius*moveLeft)+'px';\n  }\n\n  round(n) {\n    return Math.round(n * 100) / 100;\n  }\n\n  debugMap = false;\n\n  toggleMapDebug() {\n    this.debugMap=!this.debugMap;\n    if (this.debugMap) {\n      this.circleMove(0, 0);\n    }\n  }\n\n  circleMove(top, left) {\n    this.moveCircle(top, left);\n  }\n\n  zoomImage(event: MouseEvent) {\n    if (!this.debugMap) {\n      return;\n    }\n\n    const rect = this.map.getBoundingClientRect();\n    const scale = (this.map.naturalWidth) / this.map.offsetWidth;\n\n    const squareSize = this.zoomDim/scale;\n\n    const offsetX = event.clientX - rect.left;\n    const offsetY = event.clientY - rect.top;\n\n    const x = this.round(offsetX * scale);\n    const y = this.round(offsetY * scale);\n\n    this.xPercent = this.round((x/this.originalWidth)*100);\n    this.yPercent = this.round((y/this.originalHeight)*100);\n\n    const zoomWindow = document.querySelector('.zoom-window') as HTMLElement;\n    zoomWindow.style['background-position'] = `${this.xPercent}% ${this.yPercent}%`\n\n    const left = event.clientX - rect.left - (squareSize*(x/this.map.naturalWidth));\n    const top = event.clientY - rect.top - (squareSize*(y/this.map.naturalHeight));\n\n    this.squareStyle = {\n      left: `${left}px`,\n      top: `${top}px`,\n      width: `${squareSize}px`,\n      height: `${squareSize}px`\n    };\n\n    console.debug(zoomWindow.style);\n    console.debug(this.squareStyle);\n  }\n\n  locateOnMap() {\n    const loc = this.locationsData.find(l =>\n      l['location']==this.sceneData.location &&\n      l['subLocation']==this.sceneData.sublocation);\n\n    if (!loc) {\n      console.debug('location not found :(')\n      return;\n    }\n    this.xPercent = loc['x'];\n    this.yPercent = loc['y'];\n    this.moveCircle(loc['circleTop'], loc['clicleLeft']);\n    // this.moveCircle(0,-1)\n\n    const zoomWindow = document.querySelector('.zoom-window') as HTMLElement;\n    zoomWindow.style['background-position'] = `${this.xPercent}% ${this.yPercent}%`\n\n    const rect = this.map.getBoundingClientRect();\n    const left = rect['width']*(this.xPercent/100);\n    const top = rect['height']*(this.yPercent/100);\n\n    const scale = (this.map.naturalWidth) / this.map.offsetWidth;\n    const squareSize = this.zoomDim/scale;\n\n    this.squareStyle = {\n      left: `${left}px`,\n      top: `${top}px`,\n      width: `${squareSize}px`,\n      height: `${squareSize}px`\n    };\n  }\n\n}\n","<div class=\"grid-pad\">\n  <div class=\"col-1-3\">\n    <div class=\"content\">\n    <h2 style=\"font-family: 'Game of Thrones';\">Game of Thrones Viewer</h2>\n\n    <h4>Select Episode</h4>\n\n    <div class=\"grid-pad\">\n      <div class=\"col-1-2\">\n        <div class=\"content\">\n          <mat-form-field>\n            <mat-label>Season Number</mat-label>\n            <mat-select [formControl]=\"temporada\" (selectionChange)=\"onSeasonChange($event)\" #selectSeason>\n              <mat-select-trigger>\n                {{ temporada.value || '' }}\n              </mat-select-trigger>\n              <mat-option *ngFor=\"let temp of temporadaList\" [value]=\"temp\">{{ temp }}</mat-option>\n            </mat-select>\n          </mat-form-field>\n        </div>            \n      </div>\n      <div class=\"col-1-2\">\n        <div class=\"content\">\n          <mat-form-field class=\"ml10\">\n            <mat-label>Episode Number</mat-label>\n            <mat-select [formControl]=\"episodio\" (selectionChange)=\"onEpisodeChange($event)\" #selectEpisode>\n              <mat-select-trigger>\n                {{ episodio.value  || ''}}\n              </mat-select-trigger>\n              <mat-option *ngFor=\"let ep of episodesList\" [value]=\"ep\">{{ ep }}</mat-option>\n            </mat-select>\n          </mat-form-field>\n        </div>            \n      </div>\n    </div>            \n\n    <div>\n      <textarea class=\"\" style=\"width: 100%; resize: none;\" id=\"description\" rows=\"12\"\n        [innerHTML]=\"currentDescription\" readonly disabled>\n      </textarea>\n    </div>\n\n    <div class=\"grid-pad\">\n      <h4>Select Scene</h4>\n      <div class=\"col-1-2\">\n        <div class=\"content\">\n          <app-scene-selector\n            [sceneData]=\"sceneSegments\"\n            (sceneSearch)=\"onSceneSearch($event)\"\n            (sceneSearchChange)=\"onSceneSearchChange($event)\"\n            (sceneSearchEnd)=\"onSceneSearchEnd($event)\"\n            (sceneSelect)=\"onSceneSelect($event)\"\n          ></app-scene-selector>\n        </div>\n      </div>\n      <div class=\"col-1-2\">\n        <div class=\"content\">\n          <div>\n            <textarea class=\"\" style=\"width: 100%; resize: none;\" id=\"description\" rows=\"20\"\n              [(ngModel)]=\"debugText\" readonly disabled>\n            </textarea>\n          </div>\n        </div>\n      </div>\n    </div>\n    \n    </div>\n  </div>\n  <!-- MAP -->\n  <div class=\"col-1-3\">\n    <div class=\"content\">\n    <div [style.grid-area]=\"'content'\">\n      <div class=\"no-margin\" style=\"display: flex;\">\n        <div class=\"no-margin container\">\n          <div class=\"no-margin image-wrapper\" #wrapper>\n            <div class=\"no-margin image-container\">\n              <img src=\"assets/selvag_map.jpg\" alt=\"Imagem\" #image (mousemove)=\"zoomImage($event)\"\n                [ngStyle]=\"{ 'width': zoomWH }\" >\n              <div class=\"square-overlay\" [ngStyle]=\"squareStyle\"></div>\n              <div class=\"no-margin zoom-window\" #zoom \n                style=\"margin-top: 4px;\"\n                [ngStyle]=\"{ 'background-image': 'url(' + 'assets/selvag_map.jpg' + ')', 'background-size': zoomSize, 'width': zoomWH, 'height': zoomWH, 'position': 'relative' }\" >\n                <div class=\"circle\" [ngStyle]=\"circleStyle\"></div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div>\n        <div>\n          <mat-icon>\n            <span class=\"material-symbols-outlined\" (click)=\"toggleMapDebug()\">bug_report</span>\n          </mat-icon>\n          <div *ngIf=\"debugMap\">\n            <mat-icon>\n              <span class=\"material-symbols-outlined\" (click)=\"circleMove(0,0)\">filter_center_focus</span>\n            </mat-icon>\n            <mat-icon>\n              <span class=\"material-symbols-outlined\" (click)=\"circleMove(-1,0)\">arrow_circle_up</span>\n            </mat-icon>\n            <mat-icon>\n              <span class=\"material-symbols-outlined\" (click)=\"circleMove(1,0)\">arrow_circle_down</span>\n            </mat-icon>\n            <mat-icon>\n              <span class=\"material-symbols-outlined\" (click)=\"circleMove(0,-1)\">arrow_circle_left</span>\n            </mat-icon>\n            <mat-icon>\n              <span class=\"material-symbols-outlined\" (click)=\"circleMove(0,1)\">arrow_circle_right</span>\n            </mat-icon>\n            xPercent: {{xPercent}}\n            yPercent: {{yPercent}}\n          </div>\n        </div>\n      </div>\n    </div>\n    </div>\n  </div>\n  <div class=\"col-1-3\">\n    <div class=\"content\">\n    <!-- CHARACTERS -->\n\n    <section>\n      <div class=\"example-button-row\">\n        <h4 *ngIf=\"currentCharIdx>0\">Characters on Scene ({{currentCharIdx-charsPerPage>=0 ? currentCharIdx-charsPerPage+1 : 1}}..{{currentCharIdx}}/{{allCharBio.length}})</h4>\n        <h4 *ngIf=\"currentCharIdx==0\">No Characters Found</h4>\n        <div *ngIf=\"currentCharIdx>0\">\n          <button mat-icon-button color=\"secondary\" (click)=\"previousChars($event)\" aria-label=\"previews characters\">\n            <mat-icon>\n              <span class=\"material-symbols-outlined\">arrow_back</span>\n            </mat-icon>\n          </button>\n          <button mat-icon-button color=\"secondary\" (click)=\"nextChars($event)\" aria-label=\"next characters\">\n            <mat-icon>\n              <span class=\"material-symbols-outlined\">arrow_forward</span>\n            </mat-icon>\n          </button>\n        </div>\n      </div>\n    </section>\n\n    <ng-container *ngFor=\"let char of charBio; let i=index\">\n      <div *ngIf=\"i % 3 === 0\" class=\"row\">\n        <ng-container *ngFor=\"let char of charBio.slice(i, i + 3)\">\n          <div class=\"column\">\n            <mat-card class=\"example-card\" style=\"width: 190px;\">\n              <mat-card-header>\n                <mat-card-title>{{ char.name }}</mat-card-title>\n                <mat-card-subtitle>{{ char.house }}</mat-card-subtitle>\n              </mat-card-header>\n              <div class=\"image\">\n                <img *ngIf=\"char.img;\" [src]=\"char.img\" alt=\"{{ char.name }}\" >\n                <img *ngIf=\"!char.img;\" mat-card-image src=\"assets/placeholder.jpg\" alt=\"{{ char.name }}\" >\n              </div>\n            </mat-card>\n          </div>\n        </ng-container>\n      </div>\n    </ng-container>\n    \n    </div>\n  </div>\n</div>\n","import { NgModule } from '@angular/core';\nimport { MainComponent } from './main.component';\nimport { SceneSelectorComponent } from './scene-selector.component';\nimport { MatButtonModule } from '@angular/material/button';\nimport { SharedModule } from '../shared/shared.module';\n\n\n@NgModule({\n  declarations: [\n    MainComponent,\n    SceneSelectorComponent\n  ],\n  imports: [\n    SharedModule\n  ],\n  exports: [\n    MatButtonModule\n  ],\n  providers: []\n})\nexport class MainModule { }\n","import { AfterViewInit, Component, EventEmitter, Input, Output, ViewChild } from \"@angular/core\"\nimport * as Highcharts from 'highcharts';\n\n@Component({\n  selector: 'app-scene-selector',\n  templateUrl: './scene-selector.component.html'\n})\nexport class SceneSelectorComponent implements AfterViewInit {\n\n  @ViewChild('chart') chartRef: any;\n\n  @Output() sceneSearch: EventEmitter<any> = new EventEmitter();\n  @Output() sceneSearchEnd: EventEmitter<any> = new EventEmitter();\n  @Output() sceneSearchChange: EventEmitter<any> = new EventEmitter();\n  @Output() sceneSelect: EventEmitter<any> = new EventEmitter();\n\n  seriesData = [];\n\n  private _sceneData;\n  @Input() set sceneData(d) {\n    this._sceneData = d;\n    if (this._sceneData.length>0) {\n      this.seriesData = [];\n      for (let i=0; i<this._sceneData.length; i++) {\n        this.seriesData.push([\n          'Scene '+(i+1), this._sceneData[i]\n        ])\n      };\n      this.init();\n    }\n  };\n  get sceneData() {\n    return this._sceneData;\n  }\n\n  Highcharts: typeof Highcharts = Highcharts;\n  chartOptions;\n\n  constructor() {}\n\n  ngAfterViewInit(): void {\n  }\n\n  init() {\n\n    // Create the chart\n    this.chartOptions = {\n      chart: {\n        renderTo: 'container',\n        type: 'pie',\n        backgroundColor: '#DCDCDC'\n      },\n      title: {\n        text: null\n      },\n      yAxis: {\n        title: {\n            text: 'Scene Selector'\n        }\n      },\n      plotOptions: {\n        pie: {\n          shadow: false,\n          colors: [\n            'rgba(0, 153, 255, 0.7)',\n            'rgba(255, 51, 51, 0.7)'\n          ]\n        },\n        series: {\n          cursor: 'pointer',\n          events: {\n            click: function(event) {\n              this.onClick(event);\n            }.bind(this),\n            mouseOut: function(event) {\n              this.onWheelOut(event);\n            }.bind(this)\n          },\n          point: {\n            events: {\n              mouseOver: function(event) {\n                this.onHover(event);\n              }.bind(this),\n              mouseOut: function(event) {\n                this.onSegmentOut(event);\n              }.bind(this)\n            }\n          }\n        }\n      },\n      tooltip: {\n        formatter: function() {\n            return '<b>'+ this.point.name +'</b>';\n        }\n      },\n      series: [{\n        name: 'Scenes',\n        data: this.seriesData,\n        size: '90%',\n        innerSize: '30%',\n        showInLegend: false,\n        dataLabels: {\n          enabled: false\n        }\n      }]\n    };\n\n    const chartElement = this.chartRef.nativeElement;\n    Highcharts.chart(chartElement, this.chartOptions);\n  }\n\n  onClick(event) {\n    // console.log(event['point']['index']);\n    this.sceneSelect.emit(event['point']['index']);\n  }\n\n  onHover(event) {\n    // console.log(event['target']['index']);\n    this.sceneSearch.emit(event['target']['index']);\n  }\n\n  onSegmentOut(event) {\n    // console.log(event['target']['index']);\n    this.sceneSearchChange.emit(event['target']['index']);\n  }\n\n  onWheelOut(event) {\n    // console.log(event['target']['index']);\n    this.sceneSearchEnd.emit(event['target']['index']);\n  }\n\n}","<div #chart style=\"width:100%; height:400px;\"></div>\n","import { HttpClient } from '@angular/common/http';\nimport { EventEmitter, Injectable, OnInit, Output } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DataService implements OnInit {\n\n  @Output() globalData: EventEmitter<any> = new EventEmitter();\n\n  episodes;\n  characters;\n  locationsData;\n\n  constructor(private http: HttpClient) { }\n\n  ngOnInit(): void {\n  }\n\n  async readFiles() {\n    console.log('readFiles');\n    this.readEpisodes();\n  }\n\n  readEpisodes() {\n    this.http.get('assets/episodes.json').subscribe(data => {\n      this.episodes = data['episodes'];\n      console.debug(this.episodes);\n      this.readCharacters();\n    });\n  }\n\n  readCharacters() {\n    this.http.get('assets/characters.json').subscribe(data => {\n      this.characters = data['characters'];\n      console.debug(this.characters);\n      this.readLocations();\n    });\n  }\n\n  readLocations() {\n    this.http.get('assets/locations.csv', {responseType: 'text'}).subscribe(\n      data => {\n        const resultData = [];\n        const lines = data.split(\"\\n\") || [];\n        const params = lines[0].split(\",\");\n        if (lines.length>1) {\n          for (let i=1; i<lines.length; i++) {\n            const lineObj = {};\n            const values = lines[i].split(\",\");\n            for (let j=0; j<values.length; j++) {\n              lineObj[params[j]] = values[j]\n            }\n            resultData.push(lineObj);\n          }\n        }\n        console.debug('locations', resultData);\n        this.locationsData = resultData;\n        this.globalData.emit({\n          episodes: this.episodes,\n          characters: this.characters,\n          locationsData: this.locationsData\n        });\n      },\n      error => {\n        console.debug(error);\n      }\n    );\n  }\n\n}","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { HttpClientModule } from '@angular/common/http';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { MatSliderModule } from '@angular/material/slider';\nimport { MatSelectModule } from '@angular/material/select';\nimport { CdkAccordionModule } from '@angular/cdk/accordion';\nimport { HighchartsChartModule } from 'highcharts-angular';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatIconModule } from '@angular/material/icon';\nimport { DataService } from './data-service';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\n\n@NgModule({\n  imports: [\n    BrowserModule,\n    BrowserAnimationsModule,\n    HttpClientModule,\n    FormsModule,\n    ReactiveFormsModule,\n    MatSliderModule,\n    MatSelectModule,\n    CdkAccordionModule,\n    HighchartsChartModule,\n    MatCardModule,\n    MatButtonModule,\n    MatIconModule,\n    MatCheckboxModule\n  ],\n  exports: [\n    BrowserModule,\n    BrowserAnimationsModule,\n    HttpClientModule,\n    FormsModule,\n    ReactiveFormsModule,\n    MatSliderModule,\n    MatSelectModule,\n    CdkAccordionModule,\n    HighchartsChartModule,\n    MatCardModule,\n    MatButtonModule,\n    MatIconModule,\n    MatCheckboxModule\n  ],\n  providers: [\n    DataService\n  ]\n})\nexport class SharedModule { }\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/plugins/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"names":["RouterModule","MainComponent","CharacterComponent","routes","path","redirectTo","pathMatch","component","AppRoutingModule","_","_2","_3","forRoot","imports","i1","exports","AppComponent","constructor","selectors","decls","vars","consts","template","AppComponent_Template","rf","ctx","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","MainModule","CharacterModule","AppModule","bootstrap","declarations","Highcharts","More","SankeyModule","OrganizationModule","ArcModule","HeatmapModule","TreemapModule","ExportingModule","ExportingDataModule","AccessibilityDataModule","ɵɵlistener","CharacterComponent_For_13_Template_mat_checkbox_ngModelChange_1_listener","$event","restoredCtx","ɵɵrestoreView","_r11","subtask_r7","$implicit","ɵɵresetView","checked","ɵɵadvance","ɵɵproperty","color","ɵɵtextInterpolate1","name","ɵɵpropertyInterpolate","ctx_r12","charData","characterName","characterImageFull","ɵɵsanitizeUrl","ctx_r13","ɵɵtemplate","CharacterComponent_div_20_img_8_Template","CharacterComponent_div_20_img_9_Template","ɵɵtextInterpolate","ctx_r2","houseName","chageFamilyType","showFamilyNames","setAll","selectDefaultCharacter","setCharSelectionChart","task","subtasks","forEach","t","dataService","houseSeries","nameSeries","noHouseNames","noHouseSeries","noNameSeries","houseColors","Targaryen","Greyjoy","Lannister","Stark","Baratheon","Frey","Tully","Martell","Mormont","Tyrell","Arryn","Umber","Bolton","Tarly","familyData","familyLevels","familyNodes","bubbleSeries","readFiles","ngOnInit","globalData","subscribe","data","init","ngAfterViewInit","setHouseNames","houseNamesSet","Set","characters","character","add","Array","isArray","houses","from","houseNames","h","push","categories","presetHouseDonutData","chars","i","length","char","addCharHouse","house","setDonutData","hn","y","selectCharacter","houseRef","find","options","chart","renderTo","type","backgroundColor","title","text","tooltip","formatter","point","plotOptions","pie","shadow","series","cursor","events","click","event","onCharacterClick","bind","innerSize","size","chartElement","chartRef","nativeElement","charGraphData","c","eps","episodes","console","debug","lastLocation","locations","scenesData","timeElapsed","minTime","maxTime","j","seasonSelected","st","location","sdata","value","colorValue","elapsed","calcElapsedSeconds","setLocationsChart","setScenesChart","setBubbleChart","addCharAndParents","sib","s","setFamilyTreeChart","node","id","join","image","parent","p","son_daughter","sd","tStart","tEnd","hours","minutes","seconds","split","map","Number","tS","hours1","minutes1","seconds1","tE","inverted","height","colors","accessibility","description","valueDescriptionFormat","keys","linkWeight","centeredLinks","dataLabels","rotation","verticalAlign","padding","offset","locChartElement","locationsRef","colorAxis","minColor","maxColor","getOptions","layoutAlgorithm","clip","scenesRef","descriptionFormat","levels","nodes","colorByPoint","borderColor","nodeWidth","outside","exporting","allowHTML","sourceWidth","sourceHeight","familyRef","setBubbleData","align","useHTML","pointFormat","packedbubble","minSize","maxSize","zMin","zMax","gravitationalConstant","splitSeries","seriesInteraction","dragBetweenSeries","parentNodeLimit","enabled","format","filter","property","operator","style","textOutline","fontWeight","bubbleRef","addBubble","itens","b","d","bItem","numeros","match","ep","e","found","parseInt","ɵɵdirectiveInject","DataService","viewQuery","CharacterComponent_Query","CharacterComponent_Template_mat_checkbox_change_4_listener","CharacterComponent_Template_mat_checkbox_change_8_listener","ɵɵrepeaterCreate","CharacterComponent_For_13_Template","ɵɵrepeaterTrackByIdentity","CharacterComponent_div_20_Template","ɵɵrepeater","SharedModule","FormControl","temp_r12","ep_r13","MainComponent_div_61_Template_span_click_2_listener","_r15","ctx_r14","ɵɵnextContext","circleMove","MainComponent_div_61_Template_span_click_5_listener","ctx_r16","MainComponent_div_61_Template_span_click_8_listener","ctx_r17","MainComponent_div_61_Template_span_click_11_listener","ctx_r18","MainComponent_div_61_Template_span_click_14_listener","ctx_r19","ɵɵtextInterpolate2","ctx_r7","xPercent","yPercent","ɵɵtextInterpolate3","ctx_r8","currentCharIdx","charsPerPage","allCharBio","MainComponent_div_68_Template_button_click_1_listener","_r21","ctx_r20","previousChars","MainComponent_div_68_Template_button_click_5_listener","ctx_r22","nextChars","char_r27","img","ɵɵelementContainerStart","MainComponent_ng_container_69_div_1_ng_container_1_img_9_Template","MainComponent_ng_container_69_div_1_ng_container_1_img_10_Template","ɵɵelementContainerEnd","MainComponent_ng_container_69_div_1_ng_container_1_Template","ctx_r25","charBio","slice","i_r24","MainComponent_ng_container_69_div_1_Template","http","temporada","temporadaList","episodio","episodesListList","episodesList","selectedSeason","selectedEpisode","currentDescription","totalSeconds","timeString","episodeStart","episodeLength","sceneTimeSecs","sceneSegments","clickSelected","sceneData","number","sublocation","start","end","debugText","locationsData","zoomDim","zoomWH","zoomSize","circleRadius","squareStyle","circleStyle","debugMap","setupMap","_this","_asyncToGenerator","readEpisodes","get","readCharacters","readLocations","responseType","resultData","lines","params","lineObj","values","error","includes","seasonNum","episodeNum","episodeTitle","selectSeason","selectEpisode","selectEpisodeData","pad","onSeasonChange","onEpisodeChange","indexOf","selectedEpisodeData","scenes","timeToSeconds","calcSceneSegments","setSceneData","debugChoice","findCharacters","locateOnMap","segs","min","scene","sec","seg","Math","round","sceneIndex","o","onSceneHover","onSceneSearch","onSceneSearchChange","onSceneSearchEnd","onSceneSelect","onSceneClick","onSceneHoverOut","sceneCharData","charRef","bio","placeCharactersForView","mapZoomed","zoom","originalWidth","naturalWidth","originalHeight","naturalHeight","z","zoomWidth","offsetWidth","zoomHeight","offsetHeight","circleTop","circleLeft","width","borderRadius","position","top","left","centerCircle","moveCircle","moveTop","moveLeft","n","toggleMapDebug","zoomImage","rect","getBoundingClientRect","scale","squareSize","offsetX","clientX","offsetY","clientY","x","zoomWindow","document","querySelector","loc","l","HttpClient","MainComponent_Query","MainComponent_Template_mat_select_selectionChange_13_listener","MainComponent_mat_option_17_Template","MainComponent_Template_mat_select_selectionChange_23_listener","MainComponent_mat_option_27_Template","MainComponent_Template_app_scene_selector_sceneSearch_36_listener","MainComponent_Template_app_scene_selector_sceneSearchChange_36_listener","MainComponent_Template_app_scene_selector_sceneSearchEnd_36_listener","MainComponent_Template_app_scene_selector_sceneSelect_36_listener","MainComponent_Template_textarea_ngModelChange_40_listener","MainComponent_Template_img_mousemove_50_listener","MainComponent_Template_span_click_59_listener","MainComponent_div_61_Template","MainComponent_h4_66_Template","MainComponent_h4_67_Template","MainComponent_div_68_Template","MainComponent_ng_container_69_Template","ɵɵsanitizeHtml","ɵɵstyleProp","ɵɵpureFunction1","_c5","ɵɵpureFunction4","_c6","SceneSelectorComponent","MatButtonModule","EventEmitter","_sceneData","seriesData","sceneSearch","sceneSearchEnd","sceneSearchChange","sceneSelect","chartOptions","yAxis","onClick","mouseOut","onWheelOut","mouseOver","onHover","onSegmentOut","showInLegend","emit","SceneSelectorComponent_Query","log","ɵɵinject","factory","ɵfac","providedIn","BrowserModule","BrowserAnimationsModule","HttpClientModule","FormsModule","ReactiveFormsModule","MatSliderModule","MatSelectModule","CdkAccordionModule","HighchartsChartModule","MatCardModule","MatIconModule","MatCheckboxModule","environment","production","enableProdMode","__NgCli_bootstrap_1","platformBrowser","bootstrapModule","catch","err"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}